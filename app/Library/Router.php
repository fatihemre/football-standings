<?php

namespace Standings\Library;

class Router extends \Buki\Router\Router
{

    public function addRoute(string $uri, string $method, $callback, ?array $options = null)
    {
        parent::addRoute($uri, $method, $callback, $options); // TODO: Change the autogenerated stub
        return $this;
    }

    public function setName(string $name): void
    {
        $latestRoute = end($this->routes);
        $latestRoute['name'] = $name;

        $this->routes[array_key_last($this->routes)] = $latestRoute;
    }

    /**
     * @param string $name
     * @param array $params
     * @return string
     * @todo Parametreler eklenecek. Eğer url'de parametre varsa getRoute fonksiyonu içerisinde gönderilir.
     */
    public function getRoute(string $name, array $params = [])
    {
        $activeRoute = null;
        foreach($this->routes as $route) {
            if($route['name'] === $name)
                $activeRoute = $route;
        }

        return $activeRoute['route'] ?? null;
    }

}